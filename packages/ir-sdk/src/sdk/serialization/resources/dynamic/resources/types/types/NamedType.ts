/**
 * This file was auto-generated by Rapiddocs from our API Definition.
 */

import * as serializers from "../../../../../index";
import * as RapiddocsIr from "../../../../../../api/index";
import * as core from "../../../../../../core";
import { AliasType } from "./AliasType";
import { EnumType } from "./EnumType";
import { ObjectType } from "./ObjectType";
import { DiscriminatedUnionType } from "./DiscriminatedUnionType";
import { UndiscriminatedUnionType } from "./UndiscriminatedUnionType";

export const NamedType: core.serialization.Schema<serializers.dynamic.NamedType.Raw, RapiddocsIr.dynamic.NamedType> =
    core.serialization
        .union("type", {
            alias: AliasType,
            enum: EnumType,
            object: ObjectType,
            discriminatedUnion: DiscriminatedUnionType,
            undiscriminatedUnion: UndiscriminatedUnionType,
        })
        .transform<RapiddocsIr.dynamic.NamedType>({
            transform: (value) => {
                switch (value.type) {
                    case "alias":
                        return RapiddocsIr.dynamic.NamedType.alias(value);
                    case "enum":
                        return RapiddocsIr.dynamic.NamedType.enum(value);
                    case "object":
                        return RapiddocsIr.dynamic.NamedType.object(value);
                    case "discriminatedUnion":
                        return RapiddocsIr.dynamic.NamedType.discriminatedUnion(value);
                    case "undiscriminatedUnion":
                        return RapiddocsIr.dynamic.NamedType.undiscriminatedUnion(value);
                    default:
                        return value as RapiddocsIr.dynamic.NamedType;
                }
            },
            untransform: ({ _visit, ...value }) => value as any,
        });

export declare namespace NamedType {
    export type Raw =
        | NamedType.Alias
        | NamedType.Enum
        | NamedType.Object
        | NamedType.DiscriminatedUnion
        | NamedType.UndiscriminatedUnion;

    export interface Alias extends AliasType.Raw {
        type: "alias";
    }

    export interface Enum extends EnumType.Raw {
        type: "enum";
    }

    export interface Object extends ObjectType.Raw {
        type: "object";
    }

    export interface DiscriminatedUnion extends DiscriminatedUnionType.Raw {
        type: "discriminatedUnion";
    }

    export interface UndiscriminatedUnion extends UndiscriminatedUnionType.Raw {
        type: "undiscriminatedUnion";
    }
}
